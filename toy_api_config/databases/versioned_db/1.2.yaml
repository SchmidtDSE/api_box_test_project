name: versioned_db
description: Versioned test database for toy_api - Version 1.2 (latest with custom objects)

config:
  NB_USERS: 10
  NB_POSTS: 30

shared:
  user_id[[NB_USERS]]: UNIQUE[int]
  post_id[[NB_POSTS]]: UNIQUE[int]

tables:
  # Version 1.2: Using custom test objects
  users[[NB_USERS]]:
    object: "test.test_user"
    user_id: [[user_id]]

  # Using custom permissions object with extensions
  user_permissions[[NB_USERS]]:
    object: "test.test_permissions"
    user_id: [[user_id]]

  # Using custom post object with overrides
  posts[[NB_POSTS]]:
    object: "test.test_post"
    post_id: [[post_id]]
    author: CHOOSE[[user_id]]  # Override to link to users
